# RATS: Test Go bridge â€” path/filepath package
use "test"

import "path/filepath"

rats "filepath.base"
  test.assert_eq(filepath.base("/home/user/file.txt"), "file.txt")
end

rats "filepath.dir"
  test.assert_eq(filepath.dir("/home/user/file.txt"), "/home/user")
end

rats "filepath.ext"
  test.assert_eq(filepath.ext("file.txt"), ".txt")
  test.assert_eq(filepath.ext("file"), "")
end

rats "filepath.join"
  test.assert_eq(filepath.join("home", "user", "docs"), "home/user/docs")
end

rats "filepath.is_abs"
  test.assert_true(filepath.is_abs("/home/user"))
  test.assert_false(filepath.is_abs("relative/path"))
end

rats "filepath.clean"
  test.assert_eq(filepath.clean("/home/user/../user/./docs"), "/home/user/docs")
end

rats "filepath.abs"
  result = filepath.abs(".")
  test.assert_true(len(result) > 0)
end

rats "filepath.split"
  parts = filepath.split("/home/user/file.txt")
  test.assert_eq(parts[0], "/home/user/")
  test.assert_eq(parts[1], "file.txt")
end

rats "filepath.match"
  test.assert_true(filepath.match("*.txt", "file.txt"))
  test.assert_false(filepath.match("*.go", "file.txt"))
end

rats "filepath.rel"
  test.assert_eq(filepath.rel("/home/user", "/home/user/docs/file.txt"), "docs/file.txt")
end

rats "filepath.to_slash and from_slash"
  test.assert_eq(filepath.to_slash("a/b/c"), "a/b/c")
  test.assert_eq(filepath.from_slash("a/b/c"), "a/b/c")
end
