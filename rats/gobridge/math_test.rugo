# RATS: Test Go bridge â€” math package
use "test"
use "conv"

import "math"

rats "math.sqrt"
  test.assert_eq(conv.to_s(math.sqrt(16.0)), "4.0")
end

rats "math.abs"
  test.assert_eq(conv.to_s(math.abs(-5.0)), "5.0")
end

rats "math.ceil and floor"
  test.assert_eq(conv.to_s(math.ceil(3.2)), "4.0")
  test.assert_eq(conv.to_s(math.floor(3.8)), "3.0")
end

rats "math.pow"
  test.assert_eq(conv.to_s(math.pow(2.0, 10.0)), "1024.0")
end

rats "math.round"
  test.assert_eq(conv.to_s(math.round(3.5)), "4.0")
  test.assert_eq(conv.to_s(math.round(3.4)), "3.0")
end

rats "math.max and min"
  test.assert_eq(conv.to_s(math.max(3.0, 7.0)), "7.0")
  test.assert_eq(conv.to_s(math.min(3.0, 7.0)), "3.0")
end

rats "math.log and log10"
  test.assert_eq(conv.to_s(math.log(1.0)), "0.0")
  test.assert_eq(conv.to_s(math.log10(100.0)), "2.0")
end

rats "math.is_nan and nan"
  test.assert_true(math.is_nan(math.nan()))
end

rats "math.mod"
  test.assert_eq(conv.to_s(math.mod(10.0, 3.0)), "1.0")
end
