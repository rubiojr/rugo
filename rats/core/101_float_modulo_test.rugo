# RATS: Float modulo (%) should preserve float operands
# Bug: c8cb934 â€” rugo_mod always coerces to int, truncating floats
use "test"

rats "float % int returns float"
  test.assert_eq(10.5 % 3, 1.5)
end

rats "float % float returns float"
  test.assert_eq(10.5 % 3.0, 1.5)
end

rats "int % float returns float"
  test.assert_eq(10 % 3.5, 3.0)
end

rats "int % int still returns int"
  test.assert_eq(10 % 3, 1)
end

rats "float modulo with variable operands"
  a = 10.5
  b = 3
  test.assert_eq(a % b, 1.5)
end

rats "float modulo with compound assignment"
  x = 10.5
  x %= 3
  test.assert_eq(x, 1.5)
end

rats "negative float modulo"
  test.assert_eq(-10.5 % 3, -1.5)
end
